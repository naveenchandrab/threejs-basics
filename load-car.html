<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Loading Car</title>
		<link rel="stylesheet" href="./styles/app.css" />
	</head>
	<body>
		<script src="./three.min.js"></script>
		<script src="./OrbitControls.js"></script>
		<script src="./GLTFLoader.js"></script>
		<script>
			const scene = new THREE.Scene();

			const camera = new THREE.PerspectiveCamera(
				45,
				window.innerWidth / window.innerHeight,
				1,
				1000
			);
			camera.position.z = 6;

			const ambientLight = new THREE.AmbientLight(0xc4c4c4, 5);
			ambientLight.position.set(0, 10, 10);
			scene.add(ambientLight);

			const directionalLight1 = new THREE.DirectionalLight(0xc4c4c4, 50);
			directionalLight1.position.set(0, 1, 0);
			directionalLight1.castShadow = true;
			scene.add(directionalLight1);

			const directionalLight2 = new THREE.DirectionalLight(0xc4c4c4, 2);
			directionalLight2.position.set(10, 0.5, 0);
			directionalLight2.castShadow = true;
			scene.add(directionalLight2);

			const directionalLight3 = new THREE.DirectionalLight(0xc4c4c4, 2);
			directionalLight3.position.set(-10, 0.5, 0);
			directionalLight3.castShadow = true;
			scene.add(directionalLight3);

			const pointLight1 = new THREE.PointLight(0xc4c4c4, 1);
			pointLight1.position.set(0, 10, 5);
			scene.add(pointLight1);

			const pointLight2 = new THREE.PointLight(0xc4c4c4, 1);
			pointLight2.position.set(300, 50, 0);
			scene.add(pointLight2);

			const pointLight3 = new THREE.PointLight(0xc4c4c4, 1);
			pointLight3.position.set(0, 50, -300);
			scene.add(pointLight3);

			const pointLight4 = new THREE.PointLight(0xc4c4c4, 1);
			pointLight4.position.set(-300, 100, 0);
			scene.add(pointLight4);

			const renderer = new THREE.WebGLRenderer({ antialias: true });
			renderer.setSize(window.innerWidth, window.innerHeight);
			renderer.setClearColor('#cccccc', 1);
			document.body.appendChild(renderer.domElement);

			const controls = new THREE.OrbitControls(camera, renderer.domElement);

			const loader = new THREE.GLTFLoader();
			loader.load('./assets/models/car/scene.gltf', function (gltf) {
				scene.add(gltf.scene);
				scene.traverse((object) => {
					if (object.name === 'Plane035__0') object.material.opacity = 0;
				});
				animate();
			});

			function animate() {
				controls.update();
				renderer.render(scene, camera);
				requestAnimationFrame(animate);
			}
		</script>
	</body>
</html>
